{{template "base" .}}
{{define "title"}}{{.Name}} - DeskApp{{end}}

{{define "page_js"}}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
{{end}}

{{define "extra_js"}}
<script>
    const ctx = document.getElementById('myChart');

    new Chart(ctx, {
        type: 'bar',
        data: {
            labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
            datasets: [{
                label: '# of Votes',
                data: [12, 19, 3, 5, 2, 3],
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });
</script>
{{end}}

{{define "page_css"}}
<link rel="stylesheet" href="/static/{{.LowerName}}/css/style.css">
{{end}}

{{define "content"}}
<div class="{{.LowerName}}-container">
    <header class="app-header">
        <h1>App {{.Name}}</h1>
        <p>Bem-vindo ao app {{.Name}}</p>
    </header>
    <div>
        <canvas style="background-color: aliceblue;" id="myChart"></canvas>
    </div>

    <main class="app-content">
        <div class="welcome-card">
            <h2>‚úÖ App Criado com Sucesso!</h2>
            <p>Seu app <strong>{{.Name}}</strong> foi criado e est√° pronto para desenvolvimento.</p>

            <div class="core-features">
                <h3>üöÄ Integrado com a Estrutura Core</h3>
                <p>Este app est√° integrado com a estrutura Core do projeto DeskApp.</p>
                <ul>
                    <li><strong>BaseController</strong> - Herda da estrutura base de controllers</li>
                    <li><strong>Sistema de Views</strong> - Templates unificados e organizados</li>
                    <li><strong>Logging Consistente</strong> - Sistema de logging padronizado</li>
                    <li><strong>Gerenciamento de Rotas</strong> - Sistema autom√°tico de rotas</li>
                </ul>
            </div>
            <h2>Rodadas Programadas (Ano 2026)</h2>

            {{if .Rodadas}}
            <table class="table table-hover data-table">
                <thead>
                    <tr>
                        <th>ID Rodada</th>
                        <th>Ano</th>
                        <th>Envio</th>
                        <th>Data In√≠cio</th>
                        <th>Data Fim</th>
                        <th>Cumulativo</th>
                        <th>Especial</th>
                    </tr>
                </thead>
                <tbody>
                    {{range .Rodadas}}
                    <tr>
                        <td>{{.id_rodada}}</td>
                        <td>{{.ano}}</td>
                        <td>{{.envio}}</td>
                        <td>{{.data_ini}}</td>
                        <td>{{.data_fim}}</td>
                        <td class="cursor-pointer">{{if .participa_cumulativo}}Sim ‚úÖ{{else}}N√£o ‚ùå{{end}}</td>
                        <td>{{if .especial}}Sim üåü{{else}}N√£o ‚ùå{{end}}</td>
                    </tr>
                    {{end}}
                </tbody>
            </table>
            {{else}}
            <p class="text-warning">N√£o h√° dados de rodadas dispon√≠veis ou houve um erro no carregamento.</p>
            {{end}}
        </div>
    </main>
</div>
{{end}}